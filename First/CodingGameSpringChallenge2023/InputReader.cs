namespace CodingGameSpringChallenge2023;

using System;
using System.Collections.Generic;

using SpringChallenge.Core.Abstractions.ActionManagement;
using SpringChallenge.Core.Abstractions.InputReader;

public class InputReader2 : IInputReader
{
   private readonly IActionManager actionManager;

   private static Queue<string> inputQueue;
   public InputReader2(IActionManager actionManager)
   {
      this.actionManager = actionManager ?? throw new ArgumentNullException(nameof(actionManager));
      
      inputQueue = new Queue<string>(new[]
      {
         "93","0 0 -1 1 3 -1 2 4","0 0 7 9 11 3 0 -1","0 0 4 0 -1 8 10 12","0 0 1 11 13 15 -1 0","0 0 16 -1 0 2 12 14","0 0 -1 -1 7 -1 16 26","0 0 -1 15 25 -1 -1 8","0 0 -1 17 9 1 -1 5","0 0 2 -1 6 -1 18 10","0 0 17 -1 19 11 1 7","0 0 12 2 8 18 -1 20","0 0 9 19 -1 13 3 1","0 0 14 4 2 10 20 -1","0 0 11 -1 21 23 15 3","0 0 24 16 4 12 -1 22","0 0 3 13 23 25 6 -1","0 0 26 5 -1 4 14 24","0 0 31 33 -1 9 7 -1","0 0 10 8 -1 32 34 -1","0 0 -1 37 39 -1 11 9","0 0 -1 12 10 -1 38 40","0 0 -1 41 43 -1 23 13","0 0 -1 24 14 -1 42 44","0 0 13 21 -1 45 25 15","0 0 46 26 16 14 22 -1","0 0 15 23 45 47 -1 6","0 0 48 -1 5 16 24 46","0 0 49 51 29 -1 48 64","0 0 -1 47 63 50 52 30","0 0 51 53 31 -1 -1 27","0 0 -1 -1 28 52 54 32","0 0 53 55 33 17 -1 29","0 0 18 -1 30 54 56 34","1 32 55 -1 35 -1 17 31","1 32 -1 18 32 56 -1 36","0 0 -1 -1 -1 37 -1 33","0 0 38 -1 34 -1 -1 -1","0 0 35 -1 -1 39 19 -1","0 0 40 20 -1 36 -1 -1","0 0 37 -1 -1 41 -1 19","0 0 42 -1 20 38 -1 -1","0 0 39 -1 -1 43 21 -1","0 0 44 22 -1 40 -1 -1","0 0 41 -1 -1 57 -1 21","0 0 58 -1 22 42 -1 -1","0 0 23 -1 59 61 47 25","0 0 62 48 26 24 -1 60","1 30 25 45 61 63 28 -1","1 30 64 27 -1 26 46 62","2 120 -1 65 51 27 64 -1","2 120 28 63 -1 -1 66 52","1 15 65 -1 53 29 27 49","1 15 30 28 50 66 -1 54","2 440 -1 67 55 31 29 51","2 440 32 30 52 -1 68 56","0 0 67 69 -1 33 31 53","0 0 34 32 54 68 70 -1","0 0 43 -1 -1 71 59 -1","0 0 72 60 -1 44 -1 -1","0 0 -1 57 71 -1 61 45","0 0 -1 62 46 -1 58 72","2 440 45 59 -1 73 63 47","2 440 74 64 48 46 60 -1","0 0 47 61 73 -1 50 28","0 0 -1 49 27 48 62 74","2 80 77 79 -1 51 49 -1","2 80 52 50 -1 78 80 -1","0 0 81 83 69 55 53 -1","0 0 56 54 -1 82 84 70","2 50 83 -1 -1 -1 55 67","2 50 -1 56 68 84 -1 -1","0 0 57 -1 -1 85 -1 59","0 0 86 -1 60 58 -1 -1","0 0 61 -1 87 89 -1 63","0 0 90 -1 64 62 -1 88","0 0 -1 -1 77 -1 92 -1","0 0 -1 91 -1 -1 -1 78","0 0 -1 -1 79 65 -1 75","0 0 66 -1 76 -1 -1 80","0 0 -1 -1 81 -1 65 77","0 0 -1 66 78 -1 -1 82","0 0 -1 -1 83 67 -1 79","0 0 68 -1 80 -1 -1 84","0 0 -1 -1 -1 69 67 81","0 0 70 68 82 -1 -1 -1","0 0 71 -1 -1 -1 87 -1","0 0 -1 88 -1 72 -1 -1","0 0 -1 85 -1 -1 89 73","0 0 -1 90 74 -1 86 -1","0 0 73 87 -1 -1 91 -1","0 0 -1 92 -1 74 88 -1","2 570 -1 89 -1 -1 76 -1","2 570 -1 75 -1 -1 90 -1","1","75","76","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","32 0 0","32 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","30 0 0","30 0 0","120 0 0","120 0 0","15 0 0","15 0 0","440 0 0","440 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","440 0 0","440 0 0","0 0 0","0 0 0","80 0 0","80 0 0","0 0 0","0 0 0","50 0 0","50 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 10 0","0 0 10","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","0 0 0","570 0 0","570 0 0"
      });
   }
   #region IInputReader Members

   public string ReadInput()
   {
      return inputQueue.Dequeue();
      string? input = Console.ReadLine();
      if (input is null)
      {
         throw new InvalidOperationException("There is no input.");
      }

      actionManager.WriteMessage($"Input {input}");
      return input;
   }

   #endregion
}